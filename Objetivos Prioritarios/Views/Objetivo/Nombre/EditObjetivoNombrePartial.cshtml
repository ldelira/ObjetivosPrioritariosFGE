@model Objetivos_Prioritarios.Models.tb_NombreObjetivo

<div class="modal" id="modalErrorLoadEmail" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Editar Etiqueta de la carpeta</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <input id="int_id_nombre" value="@Model.int_id_nombre" style="display:none" />
                    <div class="row">
                        <div class="col-sm-2 col-md-2"><label class="control-label">Paterno: </label></div>
                        <div class="col-sm-10 col-md-10">
                            <input type="text" class="form-control" id="txtPaterno" value="@Model.nvarchar_paterno" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2 col-md-2"><label class="control-label">Materno: </label></div>
                        <div class="col-sm-10 col-md-10">
                            <input type="text" class="form-control" id="txtMaterno" value="@Model.nvarchar_materno" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2 col-md-2"><label class="control-label">Nombre: </label></div>
                        <div class="col-sm-10 col-md-10">
                            <input type="text" class="form-control" id="txtNombre" value="@Model.nvarchar_nombre" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="closeModal">CERRAR</button>
                <button type="button" class="btn btn-primary" id="btnSave">GUARDAR</button>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        $("#modalErrorLoadEmail").modal("show");



        $("#btnSave").click(function () {
            var datas = {
                int_id_nombre: $('#int_id_nombre').val(),
                nvarchar_nombre: $("#txtNombre").val(),
                nvarchar_paterno: $("#txtPaterno").val(),
                nvarchar_materno: $("#txtMaterno").val(),
                int_id_objetivo: $("#int_id_objetivo").val()
            };
              $.ajax({
                  type: 'POST',
                  url: '@Url.Action("EditObjetivoNombre", "Objetivo")',
                  data: datas,
                  success: function (data) {
                      if (data.IsSuccess) {
                          swal({
                              title: "",
                              text: data.Message,
                              type: 'success',
                              showCancelButton: false,
                              confirmButtonText: "Continuar",
                              closeOnConfirm: true,
                          },
                             function (isConfirm) {
                                 //swal.close();

                                     $('#closeModal').trigger('click');
                                     refreshNombresList();
                             });
                      }
                      if (data.IsSuccess == undefined) {
                          swal({
                                title: "Error",
                                text: "No tienes permisos para llevar a cabo esta acción favor de contactar al administrador",
                                type: 'error',
                                showCancelButton: false,
                                confirmButtonText: "Continuar",
                                closeOnConfirm: true,
                            },
                                function (isConfirm) {
                                    if (isConfirm) {
                                        swal.close();
                                    }
                                });
                      }
                  },
                  complete: function () {
                  }
              });

        });


    });
</script>

